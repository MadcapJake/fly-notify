require:
   path
   node-notifier as notifier

defaults = {
   title = "fly-notify"
   message = "fly-notify was used without a message"
   icon = path.join{__dirname, "fly-logo.png"}
}

module.exports = @->
   @notify = (var opts = {=}) @->
      for option in defaults: opts[option] = opts[option] or defaults[option]
      @defer(notifier.notify(opts, cb.bind(@))) where cb = (err, response) @->
         if err: @err(err)
      @
